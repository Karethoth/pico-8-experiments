pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
local delay = 0.05
local last  = t()
local initial_draw_done = false
local generation_phase = t() + 10

function _init()
	palt(0, false)
end

function _update()
 if (t() - last) < delay or not initial_draw_done then
 	return
 end
 
 disp_mem=0x6000
 disp_mem_len=0x1fff
	for i=0,disp_mem_len do
		addr = disp_mem + i
		p = @addr
		if p != 0 then
			a = p & 0x0f
			b = p >>> 4
			p = (a + b) / 2
			p = (p << 4) ^ p
			if p < 1 then
				p = rnd(15)+1
			end
			poke(addr,p)
			if t() < generation_phase then
				poke(addr+1,rnd(11))
			end
		end
	end
	
	last = t()
end

function _draw()
	if initial_draw_done then
		return
	end
	cls()
	spr(1,10,10)
	spr(2,18,10)
	initial_draw_done = true
end
__gfx__
00000000012345678888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000012345677777777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700012345676666666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000012345675555555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700089abcdef4444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070089abcdef3333333300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000089abcdef2222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000089abcdef1111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100000012022130261302715026160231701f170191601412012110161101d1102011021110221402215021150201201c15016150111400f1300d110091100415003150001000010000100001000010000100
